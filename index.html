<!DOCTYPE html>

<html lang="en-us">

    <head>
        <!-- Meta -->
        <meta charset="utf-8" />
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />

        <title>Gestionnaire de réservations</title>
        <meta name="description" content="Simplifiez vos réservations" />

        <!-- The compiled CSS file -->
        <link rel="stylesheet" href="css/production.css" />

        <!-- Web fonts -->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,400i,700|Source+Serif+Pro:700" rel="stylesheet"/>

        <!-- favicon.ico. Place these in the root directory. -->
        <link rel="shortcut icon" href="favicon.ico" />
    </head>

    <body>
        <!-- Header -->
        <header class="align--center pt3">
            <div class="container--lg border--bottom pb3">
                <img class="logo mb3" src="img/logo.svg" alt="Assistant administratif"/>
                <h1 class="mb2">Simplifiez vos réservations</h1>
                <p class="h3 darkest-gray">L'idée est simple... Préparez l'après confinement en laissant vos clients prendre facilement rendez-vous avec vous</p>
            </div>
        </header>

        <main>
            <!-- Feature list -->
            <div class="container pt3 mt2 text--gray align--center">
                <p class="mb3">Idéal pour gérer son planning ainsi que le flux de client</p>
                <div class="grid-row">
                    <div class="grid-column span-one-third mb3">
                        <img class="illustration--small mb1" src="img/assign.svg" alt="Assign to others"/>
                        <p>Retrouvez-y toutes les informations nécessaires pour chaque rendez-vous</p>
                    </div>
                    <div class="grid-column span-one-third mb3">
                        <img class="illustration--small mb1" src="img/connected.svg" alt="Stay connected"/>
                        <p>Ayez une vision claire de vos rendez-vous à venir</p>
                    </div>
                    <div class="grid-column span-one-third mb3">
                        <img class="illustration--small mb1" src="img/messaging.svg" alt="Fast messaging"/>
                        <p>Prenez rapidement contact avec vos clients</p>
                    </div>
                </div>
            </div>

            <!-- Focus -->
            <div class="container--lg pt1 pb1">
                <div class="grid-row grid-row--center">
                    <div class="grid-column mt3 mb2 order-2">
                        <div class="border--bottom pb2 mb2">
                            <h2>Planning clair</h2>
                            <p>Ayez une vision claire de vos rendez-vous à venir pour mieux s'organiser !</br>Quel client a rendez-vous avec lequel de vos employés, ...</p>
                        </div>
                    </div>
                    <div class="grid-column span-1"></div>
                    <div class="grid-column mt3 mb2 order-1">
                        <img src="img/data.svg" alt="Usage data" />
                    </div>
                </div>

                <div class="grid-row grid-row--center">
                    <div class="grid-column mt3 mb2">
                        <img src="img/security.svg" alt="Absolute security" />
                    </div>
                    <div class="grid-column span-1"></div>
                    <div class="grid-column mt3 mb2">
                        <div class="border--bottom pb2 mb2">
                            <h2>Vos données</h2>
                            <p>Ayez un total contrôle sur vos données. Vos informations et celle de vos clients vous appartiennent et sont stockées de façon sécurisé.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CTA -->
            <div class="bg--dark-gray align--center pt3 pb3">
                <div class="container pt2 pb2">
                    <img class="cta-image mb2" src="img/text.svg" alt="Text the app"/>
                    <p class="h3 text--white mb1 bold">Pour plus d'informations sur ce service</p>
                    <p class="text--white mb3">Laissez-nous votre email, on vous contacte !</p>
                    <form action="" method="POST" id="emailRegistrationForm">
                        <div class="inline-block mr1 no-mr-on-mobile" style="width: 280px; max-width: 100%;">
                            <input class="form-control" type="email" placeholder="Email" id="emailRegistration"/>
                        </div>
                        <button class="btn btn--secondary" type="submit" sendMessage()>Envoyer</button>
                        <p id="thankYouMessage" class="text--white mb3" style="display: none;">Merci :) Nous avons bien reçu votre email et nous vous contacterons prochainement.</p>
                    </form>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="pt1 pb3 align--center-on-mobile"></footer>
    </body>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-database.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries
    -->

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyCamIECwHr45Cce-1E_bozyZluBOCAVSl0",
            authDomain: "gestionresa-d8cf6.firebaseapp.com",
            databaseURL: "https://gestionresa-d8cf6.firebaseio.com",
            projectId: "gestionresa-d8cf6",
            storageBucket: "gestionresa-d8cf6.appspot.com",
            messagingSenderId: "455871432427",
            appId: "1:455871432427:web:745356572829b89e1560ae",
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        let formMessage = firebase.database().ref("registrations");

        document
            .getElementById("emailRegistrationForm")
            .addEventListener("submit", formSubmit);

        function formSubmit(e) {
            e.preventDefault();

            // Get Values from the DOM
            let email = document.querySelector("#emailRegistration").value;
            sendMessage(email);
            document.getElementById("emailRegistrationForm").reset();
            document.querySelector("#thankYouMessage").style.display = "block";

            setTimeout(function () {
                document.querySelector("#thankYouMessage").style.display =
                    "none";
            }, 7000);
        }

        let newFormMessage = formMessage.push();
        function sendMessage(email) {
            newFormMessage.push({
                email: email,
            });
        }
    </script>

</html>
